var zpAtlasDB=document.getElementById('zodiacpress_settings_atlas_db'),zpAtlasGN=document.getElementById('zodiacpress_settings_atlas_geonames'),zpCreateReportButton=document.getElementById('zp-create-new-report'),zpDeleteLink=document.getElementsByClassName('zp-custom-reports-delete'),zpDeleteLinks=zpDeleteLink.length;null!==zpCreateReportButton&&zpCreateReportButton.addEventListener('click',function(a){a.preventDefault(),zpCreateReportForm(),this.style.display='none'});for(var i=0;i<zpDeleteLinks;i++)zpDeleteLink[i].addEventListener('click',function(a){a.preventDefault();var b=this,c=document.createElement('div');c.classList.add('stuffbox','zp-delete-custom-wrap');var g=document.createElement('form');g.setAttribute('method','post'),g.setAttribute('action',zp_admin_strings.adminPost);var h=document.createElement('p');h.appendChild(document.createTextNode(zp_admin_strings.confirm));var j=document.createElement('input');j.setAttribute('type','hidden'),j.setAttribute('name','zp-report-id'),j.value=this.getAttribute('data-report');var k=document.createElement('input');k.setAttribute('type','hidden'),k.setAttribute('name','action'),k.value='zp_delete_report';var l=document.createElement('input');l.setAttribute('type','hidden'),l.setAttribute('name','zp_admin_nonce'),l.value=zp_admin_strings.nonceDelete;var m=document.createElement('input');m.setAttribute('type','submit'),m.setAttribute('class','button-primary'),m.setAttribute('value',zp_admin_strings.confirmSubmit);var n=document.createElement('a');n.classList.add('zp-cancel','zp-error'),n.href='#',n.appendChild(document.createTextNode(zp_admin_strings.cancel)),c.appendChild(g),g.appendChild(h),g.appendChild(j),g.appendChild(k),g.appendChild(l),g.appendChild(m),g.appendChild(n),this.parentNode.insertBefore(c,this),n.addEventListener('click',function(o){o.preventDefault(),c.style.display='none',b.style.display='inline-block'},!0),this.style.display='none'});null!==zpAtlasDB&&null!==zpAtlasGN&&(zpAtlasDB.checked?zpAtlasSettingsDB():zpAtlasGN.checked&&zpAtlasSettingsGN(),zpAtlasDB.addEventListener('click',zpAtlasSettingsDB),zpAtlasGN.addEventListener('click',zpAtlasSettingsGN));function zpAtlasSettingsDB(){document.querySelector('.zp-setting-geonames_user').style.display='none',document.querySelector('.zp-setting-atlas-status').style.display='table-row'}function zpAtlasSettingsGN(){document.querySelector('.zp-setting-geonames_user').style.display='table-row',document.querySelector('.zp-setting-atlas-status').style.display='none'}function zpCreateReportForm(){var a=document.createElement('div');a.id='zp-create-custom-wrap',a.setAttribute('class','stuffbox');var b=document.createElement('form');b.id='zp-create-custom-form',b.setAttribute('method','post'),b.setAttribute('action',zp_admin_strings.adminPost);var c=document.createElement('label');c.appendChild(document.createTextNode(zp_admin_strings.label));var g=document.createElement('input');g.setAttribute('type','text'),g.setAttribute('name','zp-report-name-field'),g.setAttribute('class','medium-text'),g.required=!0,g.setAttribute('minlength','2');var h=document.createElement('input');h.setAttribute('type','hidden'),h.setAttribute('name','action'),h.value='zp_create_new_report';var j=document.createElement('input');j.setAttribute('type','hidden'),j.setAttribute('name','zp_admin_nonce'),j.value=zp_admin_strings.nonceCreate;var k=document.createElement('input');k.setAttribute('type','submit'),k.setAttribute('class','button-primary'),k.setAttribute('value',zp_admin_strings.create);var l=document.createElement('a');l.classList.add('zp-cancel','zp-error'),l.href='#',l.appendChild(document.createTextNode(zp_admin_strings.cancel)),a.appendChild(b),b.appendChild(c),b.appendChild(g),b.appendChild(h),b.appendChild(j),b.appendChild(k),b.appendChild(l),zpCreateReportButton.parentNode.insertBefore(a,zpCreateReportButton),l.addEventListener('click',function(m){m.preventDefault(),a.style.display='none',zpCreateReportButton.style.display='inline-block'}),b.onsubmit=function(){var m=document.createElement('span');m.id='zp-spinner',m.style.width=k.clientWidth+'px',k.style.display='none',m.setAttribute('class','zp-spinner'),l.parentNode.insertBefore(m,l),g.style.backgroundColor='#e9e9e9',g.style.opacity=0.5,l.style.display='none'}}
