(function(a){a('#place').autocomplete({source:function(b,c){zpRemoveError(),a.ajax({url:'https://secure.geonames.org/searchJSON',dataType:'jsonp',type:'GET',data:{featureClass:'P',style:'full',maxRows:20,username:zp_js_strings.geonames_user,name_startsWith:b.term,lang:zp_js_strings.lang},success:function(d){if(d.status!==void 0){var e=a('<span />');e.attr('class','ui-state-error'),e.text('ERROR '+d.status.value+' - '+d.status.message),a('#zp-ajax-birth-data').append(e)}c(a.map(d.geonames,function(f){return{value:f.name+(f.adminName1?', '+f.adminName1:'')+', '+f.countryName,label:f.name+(f.adminName1?', '+f.adminName1:'')+', '+f.countryName,lngdeci:f.lng,latdeci:f.lat,timezoneid:f.timezone.timeZoneId}}))}})},minLength:2,select:function(b,c){var d={geo_timezone_id:c.item.timezoneid,zp_lat_decimal:c.item.latdeci,zp_long_decimal:c.item.lngdeci};for(var e in d){var f=document.getElementById(e);null!==f&&f.remove(),elInput=document.createElement('input'),elInput.type='hidden',elInput.id=e,elInput.name=e,elInput.value=d[e],document.getElementById('zp-timezone-id').appendChild(elInput)}zpGetOffset()}})})(jQuery);